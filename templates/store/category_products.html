{% extends "base.html" %}

{% block title %}{{ category.name }} - Mobilon{% endblock %}

{% block content %}
<div class="category-header">
    <div class="category-header-content">
        <span class="category-icon-large">{{ category.icon }}</span>
        <h1>{{ category.name }}</h1>
        <p>{{ category.product_count }} —Ç–æ–≤–∞—Ä–æ–≤</p>
    </div>
</div>

<!-- –ü–æ–∏—Å–∫ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
<div class="filters-section">
    <form method="get" class="filters-form">
        <div class="filter-group">
            <input 
                type="text" 
                name="search" 
                placeholder="–ü–æ–∏—Å–∫ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏..." 
                value="{{ search_query }}"
                class="filter-input"
            >
        </div>
        <button type="submit" class="btn btn-primary">üîç –ù–∞–π—Ç–∏</button>
        {% if search_query %}
            <a href="{% url 'store:category_products' category.id %}" class="btn btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</a>
        {% endif %}
    </form>
</div>

<!-- –¢–æ–≤–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
<div class="products-section">
    {% if products %}
        <p class="results-info">–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: <strong>{{ products.count }}</strong></p>
        <div class="products-grid">
            {% for product in products %}
                {% include "store/product_card.html" %}
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p class="empty-icon">üì≠</p>
            <h2>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>
            <p>–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</p>
            <a href="{% url 'store:category_list' %}" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</a>
        </div>
    {% endif %}
</div>
{% endblock %}
